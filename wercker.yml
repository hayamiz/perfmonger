box: hayamiz/rvm-golang
# Build definition
build:
    # The steps that will be executed on build
    # See the Ruby section on the wercker devcenter:
    # http://devcenter.wercker.com/articles/languages/ruby.html
    steps:
        - rvm-use:
            version: 1.8.7-p374
        - bundle-install
        - script:
            name: run rspec
            code: |
              bundle exec rake clean
              bundle exec rake spec

        - rvm-use:
            version: 1.9.3-p551
        - bundle-install
        - script:
            name: run rspec
            code: |
              bundle exec rake clean
              bundle exec rake spec

        - rvm-use:
            version: 2.0.0-p598
        - bundle-install
        - script:
            name: run rspec
            code: |
              bundle exec rake clean
              bundle exec rake spec

        - rvm-use:
            version: 2.1.5
        - bundle-install
        - script:
            name: run rspec
            code: |
              bundle exec rake clean
              bundle exec rake spec

        - rvm-use:
            version: 2.2.0
        - bundle-install
        - script:
            name: run rspec
            code: |
              bundle exec rake clean
              bundle exec rake spec

        - script:
            name: run go tesst
            code: |
              bundle exec rake test_core
